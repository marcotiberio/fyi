import{j as m,k as g,N as h,A as y,a as E,S as v}from"./swiper-bundle.min-c850b03e.js";import{P as b}from"./pagination-d2d31b6d.js";import{b as T,g as S}from"./helpers-0bb72b7a.js";function w(t){const{effect:a,swiper:e,on:n,setTranslate:d,setTransition:o,overwriteParams:i,perspective:r,recreateShadows:s,getEffectParams:c}=t;n("beforeInit",()=>{if(e.params.effect!==a)return;e.classNames.push(`${e.params.containerModifierClass}${a}`),r&&r()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const f=i?i():{};Object.assign(e.params,f),Object.assign(e.originalParams,f)}),n("setTranslate",()=>{e.params.effect===a&&d()}),n("setTransition",(f,u)=>{e.params.effect===a&&o(u)}),n("transitionEnd",()=>{if(e.params.effect===a&&s){if(!c||!c().slideShadows)return;e.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(u=>u.remove())}),s()}});let l;n("virtualUpdate",()=>{e.params.effect===a&&(e.slides.length||(l=!0),requestAnimationFrame(()=>{l&&e.slides&&e.slides.length&&(d(),l=!1)}))})}function P(t,a){const e=m(a);return e!==a&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function x({swiper:t,duration:a,transformElements:e,allSlides:n}){const{activeIndex:d}=t,o=i=>i.parentElement?i.parentElement:t.slides.filter(s=>s.shadowEl&&s.shadowEl===i.parentNode)[0];if(t.params.virtualTranslate&&a!==0){let i=!1,r;n?r=e:r=e.filter(s=>{const c=s.classList.contains("swiper-slide-transform")?o(s):s;return t.getSlideIndex(c)===d}),r.forEach(s=>{g(s,()=>{if(i||!t||t.destroyed)return;i=!0,t.animating=!1;const c=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(c)})})}}function M({swiper:t,extendParams:a,on:e}){a({fadeEffect:{crossFade:!1}}),w({effect:"fade",swiper:t,on:e,setTranslate:()=>{const{slides:o}=t,i=t.params.fadeEffect;for(let r=0;r<o.length;r+=1){const s=t.slides[r];let l=-s.swiperSlideOffset;t.params.virtualTranslate||(l-=t.translate);let f=0;t.isHorizontal()||(f=l,l=0);const u=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(s.progress),0):1+Math.min(Math.max(s.progress,-1),0),p=P(i,s);p.style.opacity=u,p.style.transform=`translate3d(${l}px, ${f}px, 0px)`}},setTransition:o=>{const i=t.slides.map(r=>m(r));i.forEach(r=>{r.style.transitionDuration=`${o}ms`}),x({swiper:t,duration:o,transformElements:i,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function A(t){const a=T(t),e=S(t),n=N(a,e);return()=>n.destroy()}function N(t,a){const{options:e}=a,n={modules:[h,y,E,b,M],a11y:e.a11y,slidesPerView:1,spaceBetween:0,effect:"fade",pagination:{el:t.pagination,type:"bullets",clickable:!0},navigation:{nextEl:t.next,prevEl:t.prev}};return e.autoplay&&e.autoplaySpeed&&(n.autoplay={delay:e.autoplaySpeed}),new v(t.slider,n)}export{A as default};
